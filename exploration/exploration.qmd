---
Title: Wendy Exploration MLE
author: Jack Krebsbach
format:
 typst:
    toc: true
    section-numbering: 1.1.a
---

# Wendy

Load libraries

```{r}
library(Rcpp)
library(symengine)
library(devtools)
source("R/example.R")
```

## For local development sourcing cpp files

```{r}
unlink(tempdir(), recursive = TRUE)

Sys.setenv("CXX_STD" = "CXX20")
Sys.setenv(DYLD_LIBRARY_PATH = "/opt/homebrew/lib")
Sys.setenv("PKG_CXXFLAGS" = "-std=c++20 -I/opt/homebrew/include")
Sys.setenv("PKG_LIBS" = "-L/opt/homebrew/lib -lsymengine -lflint -lgmp -lmpfr -lfmt")

Rcpp::sourceCpp('exploration/pkg-dev.cpp')

loadModule('WendyR', TRUE)

w <- new(WendyR, du, U, p_hat, matrix(tt, ncol = 1))
w$log_details()
w$build_test_function_matrices()
V_full <- w$getV()
V_full
```


## Build Package Locally

```{r}
print(getwd())
devtools::clean_dll()
devtools::document()
Rcpp::compileAttributes()
devtools::load_all()
```

## Try version from github

```{r}
devtools::install_github("jackkrebsbach/wendy.R", force = TRUE)
```

```{r}
library(WENDyMLE)
Rcpp::loadModule("WendyR")
w <- new(WendyR, du, U, p_hat, matrix(tt, ncol = 1))
w$build_test_function_matrices()
V_full <- w$getV()
```

